<script>
    $(document).ready(function () {
        var newInput = `<div class='row justify-content-center inputdata'>
      <div class='col-lg-4 text-center grcol'>
        <input type='text' class='form-control' placeholder='Test 1'>
      </div>
      <div class='col-lg-4 text-center grcol'>
        <div class='input-group mb-3'>
          <input type='number' name='grades[]' class='form-control' placeholder='100' min='0' max='100' step="0.01" required>
          <div class='input-group-append'>
            <span class='input-group-text' id='basic-addon2'>%</span>
          </div>
        </div>
      </div>
      <div class='col-lg-4 text-center grcol'>
        <input type='number' name='weights[]' class='form-control' placeholder='40' min='0' max='100' step="0.01" required>
      </div>
    </div>`;

        $("#addField").on('click', function (e) {
            e.preventDefault();
            $(".inputdata").last().after(newInput);
        });

        $(".grsub").on('submit', function (e) {
            e.preventDefault();
            var POSTdata = $('.grsub').serialize();

            $.ajax({
                type: "POST",
                data: POSTdata,
                dataType: 'text',
                success: function (data) {
                    console.log(POSTdata);
                    return false;
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    console.log(errorThrown);
                },
            });
        });
    });
</script>
